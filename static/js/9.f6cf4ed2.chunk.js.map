{"version":3,"sources":["components/List.js","pages/History.js"],"names":["Img","styled","img","Component","observer","HistoryStore","useStores","useEffect","console","log","reset","initialLoad","pageStart","loadMore","find","hasMore","isLoading","useWindow","dataSource","List","renderItem","item","Item","key","id","src","attributes","url","fileName","target","href","tip","History"],"mappings":"iWAQA,IAAMA,EAAMC,IAAOC,IAAV,KAyDMC,EAlDGC,aAAS,WAAK,IACvBC,EAAgBC,cAAhBD,aAcP,OATAE,qBAAU,WAER,OADAC,QAAQC,IAAI,4BACN,WACJJ,EAAaK,QACbF,QAAQC,IAAI,mBAEd,CAACJ,IAID,6BACE,kBAAC,IAAD,CACEM,aAAe,EACfC,UAAW,EACXC,SAlBU,WACdR,EAAaS,QAkBTC,SAAUV,EAAaW,WAAaX,EAAaU,QACjDE,WAAW,GAEX,kBAAC,IAAD,CACEC,WAAcb,EAAac,KAC3BC,WACE,SAAAC,GAAI,OAAI,kBAAC,IAAKC,KAAN,CAAWC,IAAOF,EAAKG,IAC7B,6BACE,kBAACxB,EAAD,CAAKyB,IAAKJ,EAAKK,WAAWC,IAAID,WAAWC,OAE3C,6BACE,4BAAKN,EAAKK,WAAWE,WAEvB,6BACE,uBAAGC,OAAO,SAASC,KAAMT,EAAKK,WAAWC,IAAID,WAAWC,KAAMN,EAAKK,WAAWC,IAAID,WAAWC,SAKlGtB,EAAaW,WAAaX,EAAaU,SACtC,6BACE,kBAAC,IAAD,CAAMgB,IAAM,8BC9CXC,UARf,WACE,OACE,oCACE,uCACA,kBAACb,EAAD","file":"static/js/9.f6cf4ed2.chunk.js","sourcesContent":["import React,{useEffect} from \"react\"\nimport {observer} from \"mobx-react\"\nimport {useStores} from \"../stores\"\nimport InfiniteScroll from 'react-infinite-scroller';\nimport { List, Spin } from 'antd';\nimport styled from \"styled-components\"\nimport {action} from \"mobx\"\n\nconst Img = styled.img`\n  width:100px;\n  max-height:200px;\n  object-fit : contain;\n  border:1px solid #eee;\n`\n\nconst Component = observer(()=>{\n  const {HistoryStore} = useStores()\n  const loadMore= ()=>{\n    HistoryStore.find()\n  }\n\n  useEffect(()=>{\n    console.log('进入组件')\n    return()=>{\n      HistoryStore.reset()\n      console.log('卸载')\n    }\n  },[HistoryStore])\n\n\n  return(\n    <div>\n      <InfiniteScroll\n        initialLoad = {true}\n        pageStart={0}\n        loadMore={loadMore}\n        hasMore={!HistoryStore.isLoading && HistoryStore.hasMore}\n        useWindow={true}\n      >\n        <List\n          dataSource = {HistoryStore.List}\n          renderItem = {\n            item => <List.Item key = {item.id}>\n              <div>\n                <Img src={item.attributes.url.attributes.url}/>\n              </div>\n              <div>\n                <h5>{item.attributes.fileName}</h5>\n              </div>\n              <div>\n                <a target=\"_blank\" href={item.attributes.url.attributes.url}>{item.attributes.url.attributes.url}</a>\n              </div>\n            </List.Item>\n          }\n        >\n          {HistoryStore.isLoading && HistoryStore.hasMore && (\n            <div>\n              <Spin tip = \"加载中\"/>\n            </div>\n          )}\n        </List>\n      </InfiniteScroll>\n    </div>\n  )\n})\nexport default Component;","import React from \"react\"\nimport List from '../components/List'\n\nfunction History() {\n  return(\n    <>\n      <h1>History</h1>\n      <List/>\n    </>\n  );\n}\nexport default History;"],"sourceRoot":""}