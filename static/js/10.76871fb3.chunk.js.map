{"version":3,"sources":["components/UpLoader.js","components/Tips.js","pages/Home.js"],"names":["Result","styled","div","H1","h1","Image","img","Dragger","Upload","Component","observer","ImageStore","useStores","UserStore","props","showUploadList","beforeUpload","file","setFile","setFileName","name","currentUser","message","warning","window","test","type","size","error","upload","then","serveFile","console","log","catch","tip","spinning","isUploading","className","InboxOutlined","href","attributes","url","target","fileName","src","Tips","children","Home"],"mappings":"yhBAOA,IAAMA,EAASC,IAAOC,IAAV,KAKNC,EAAIF,IAAOG,GAAT,KAKFC,EAAQJ,IAAOK,IAAV,KAKJC,EAAWC,IAAXD,QAwEQE,EAtEGC,aAAS,WAAK,IACvBC,EAAcC,cAAdD,WACAE,EAAaD,cAAbC,UAEDC,EAAQ,CACZC,gBAAe,EACfC,aAAc,SAACC,GAGb,OAFAN,EAAWO,QAAQD,GACnBN,EAAWQ,YAAYF,EAAKG,MACC,OAA1BP,EAAUQ,aACXC,IAAQC,QAAQ,+CACT,IAETC,OAAOP,KAAOA,EACV,wCAAwCQ,KAAKR,EAAKS,MAInDT,EAAKU,KAAK,SACXL,IAAQM,MAAM,+BACP,IAGTjB,EAAWkB,SACRC,MAAK,SAACC,GACLC,QAAQC,IAAI,4BACZD,QAAQC,IAAIF,MACXG,OAAM,WACTF,QAAQC,IAAI,gCAEP,IAfLX,IAAQM,MAAM,0EACP,MAkBb,OACE,6BACE,kBAAC,IAAD,CAAMO,IAAI,qBAAMC,SAAUzB,EAAW0B,aACnC,kBAAC9B,EAAYO,EACX,uBAAGwB,UAAU,wBACX,kBAACC,EAAA,EAAD,OAEF,uBAAGD,UAAU,mBAAb,gEACA,uBAAGA,UAAU,mBAAb,2GAKJ,6BAEI3B,EAAWoB,UAAY,kBAAC/B,EAAD,KACrB,kBAACG,EAAD,iCACA,4BACE,wDACA,4BAAI,uBAAGqC,KAAM7B,EAAWoB,UAAUU,WAAWC,IAAID,WAAWC,IAAKC,OAAO,UAAUhC,EAAWoB,UAAUU,WAAWC,IAAID,WAAWC,IAA7H,MACJ,kDACA,4BAAK/B,EAAWiC,UAChB,wDACA,4BAAI,kBAACvC,EAAD,CAAOwC,IAAKlC,EAAWoB,UAAUU,WAAWC,IAAID,WAAWC,OAC/D,0DAKM,U,2KClFpB,IAAMI,EAAO7C,IAAOC,IAAV,KAsBKO,EAbGC,aAAS,YAAe,IAAbqC,EAAY,EAAZA,SACnBlC,EAAcD,cAAdC,UAER,OACE,oCAEIA,EAAUQ,YAAc,KAAO,kBAACyB,EAAD,KAAOC,OCfxCC,EAAOtC,aAAS,WACpB,OACE,oCACE,kBAAC,EAAD,mDACA,kBAAC,EAAD,UAISsC","file":"static/js/10.76871fb3.chunk.js","sourcesContent":["import React from \"react\"\nimport {useStores} from \"../stores\"\nimport {observer} from \"mobx-react\"\nimport { Upload ,message,Spin} from 'antd';\nimport { InboxOutlined } from '@ant-design/icons';\nimport styled from \"styled-components\"\n\nconst Result = styled.div`\n  margin-top: 30px;\n  border: 1px dashed #ccc;\n  padding: 20px;\n`\nconst H1= styled.h1`\n  margin: 20px 0;\n  text-align: center;\n  \n`\nconst Image = styled.img`\n  max-width: 200px;\n`\n\n\nconst {Dragger} = Upload\n\nconst Component = observer(()=>{\n  const {ImageStore} = useStores()\n  const {UserStore} = useStores()\n\n  const props = {\n    showUploadList:false,\n    beforeUpload: (file)=>{\n      ImageStore.setFile(file)\n      ImageStore.setFileName(file.name)\n      if(UserStore.currentUser === null){\n        message.warning('清先登陆再上传')\n        return false\n      }\n      window.file = file\n      if(!/(svg$)|(png$)|(jpg$)|(jpeg$)|(gif$)/ig.test(file.type)){\n        message.error('只能上传png/svg/jpg/gif格式的图片')\n        return false\n      }\n      if(file.size>1024*1024){\n        message.error('图片最大1M')\n        return false\n      }\n\n      ImageStore.upload()\n        .then((serveFile)=>{\n          console.log('上传成功')\n          console.log(serveFile)\n        }).catch(()=>{\n        console.log('上传失败')\n      })\n      return false\n    }\n  }\n\n  return(\n    <div>\n      <Spin tip=\"上传中\" spinning={ImageStore.isUploading}>\n        <Dragger {...props}>\n          <p className=\"ant-upload-drag-icon\">\n            <InboxOutlined />\n          </p>\n          <p className=\"ant-upload-text\">点击或者拖拽上传图片</p>\n          <p className=\"ant-upload-hint\">\n            只能上传png/svg/jpg/gif格式的图片，图片最大1M\n          </p>\n        </Dragger>\n      </Spin>\n      <div>\n        {\n          ImageStore.serveFile ? <Result>\n            <H1>上传结果</H1>\n            <dl>\n              <dt>线上地址</dt>\n              <dd><a href={ImageStore.serveFile.attributes.url.attributes.url} target=\"_blank\">{ImageStore.serveFile.attributes.url.attributes.url}></a></dd>\n              <dt>文件名</dt>\n              <dd>{ImageStore.fileName}</dd>\n              <dt>图片预览</dt>\n              <dd><Image src={ImageStore.serveFile.attributes.url.attributes.url}/></dd>\n              <dt>更多尺寸</dt>\n            </dl>\n            {\n\n          }\n          </Result>:null\n        }\n      </div>\n    </div>\n  )\n})\n\nexport default Component;","import React from \"react\"\nimport {observer} from \"mobx-react\"\nimport { useStores } from \"../stores\"\nimport styled from \"styled-components\"\n\nconst Tips = styled.div`\n  background: #f60;\n  padding 10px;\n  margin: 30px 0;\n  color: #fff;\n  border-radius: 4px;\n  \n`\n\nconst Component = observer(({children})=>{\n  const { UserStore } = useStores()\n\n  return(\n    <>\n      {\n        UserStore.currentUser ? null : <Tips>{children}</Tips>\n      }\n\n    </>\n\n  )\n})\nexport default Component","import React from \"react\"\nimport {observer} from \"mobx-react\"\nimport Uploader from '../components/UpLoader'\nimport Tips from '../components/Tips'\n\nconst Home = observer(()=> {\n  return(\n    <>\n      <Tips>请先登录再上传</Tips>\n      <Uploader/>\n    </>\n  );\n})\nexport default Home;\n"],"sourceRoot":""}